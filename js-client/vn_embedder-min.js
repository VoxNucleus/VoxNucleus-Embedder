function parse_vnparam(a){var b={};try{if(a)for(var g=a.split(";"),a=0;a<g.length;a++){var c=g[a].split(":");c.length>1&&(b[c[0]]=c[1])}}catch(e){b={}}finally{return b}}
(function(a){a.fn.vn_embedder=function(b){b=a.extend({verification:!0,container_class:"vn_vid_cont",trigger_class:"vn_emb",trigger_class_expand:"vn_emb_exp",target_class:"vn_emb_target",embedder_target_id:"",vid_params:{hd:!0,height:500,width:500},messages:{server_error:"Erreur serveur",error:"Erreur",not_found:"Non trouve",trigger_code:"Lancer video"},embedder_server:"/embedder-server",jsonp:!1},b);this.each(function(){var g=a(this).attr("href"),c=this;a.ajax({url:b.embedder_server+"/verification",
type:"GET",data:{requesting:"ispresent",from:g},success:function(e){if(e.success=="true"&&e.present=="true"){parse_vnparam(a(c).attr("vn_emb_param"));var e=a(c).clone(),d=d=document.createElement("div");d.setAttribute("class","embedder_container");var f=document.createElement("span");f.setAttribute("class","trigger");a(f).data("emb_param",parse_vnparam(a(c).attr("vn_emb_param")));f.innerHTML=b.messages.trigger_code;d.appendChild(f);a(d).append(e);a(c).replaceWith(d);a(f).click(function(){var c=a(this).parent();
b.embedder_target_id!=""&&a("#"+b.embedder_target_id).length>0&&(c=a("#"+b.embedder_target_id));var e=a(this).data("emb_param");if(a(this).attr("vn_expanded")=="true")a(this).removeClass(b.trigger_class_expand),c.find("."+b.container_class).slideUp("slow",function(){a(this).remove();a(f).attr("vn_expanded","false")});else{a(this).addClass(b.trigger_class_expand);var d={from:g,width:b.width,height:b.height,hd:b.hd};a.extend(!0,d,e);a.ajax({url:b.embedder_server+"/request",type:"GET",data:d,success:function(d){if(d.status==
"found"){var e=document.createElement("div");a(e).addClass(b.container_class);a(e).append(d.code);a(c).append(e)}else d.status=="error"?a(c).append('<span class=" '+b.container_class+' emb_error">'+b.messages.error+"</span>"+d.explanation):d.status=="notfound"&&a(c).append('<span class=" '+b.container_class+' emb_notfound">'+b.messages.not_found+"</span>");a(f).attr("vn_expanded","true")},error:function(){a(c).append('<span class="'+b.target_class+' emb_error">'+b.messages.server_error+"</span>")},
dataType:"json"})}})}},error:function(){}})})}})(jQuery);function parse_shortcode(){return""};
